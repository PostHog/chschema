CREATE TABLE default.sharded_heatmaps (`session_id` String, `team_id` Int64, `distinct_id` String, `timestamp` DateTime64(6, 'UTC'), `x` Int16, `y` Int16, `scale_factor` Int16, `viewport_width` Int16, `viewport_height` Int16, `pointer_target_fixed` Bool, `current_url` String, `type` LowCardinality(String), `_timestamp` DateTime, `_offset` UInt64, `_partition` UInt64) ENGINE = ReplicatedMergeTree('/clickhouse/tables/{shard}/posthog.heatmaps', '{replica}') PARTITION BY toYYYYMM(timestamp) ORDER BY (type, team_id, toDate(timestamp), current_url, viewport_width) TTL toDate(timestamp) + toIntervalDay(90) SETTINGS index_granularity = 8192